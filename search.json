[{"path":"https://docs.ropensci.org/eia/CODE_OF_CONDUCT.html","id":null,"dir":"","previous_headings":"","what":"Contributor Code of Conduct","title":"Contributor Code of Conduct","text":"contributors maintainers project, pledge respect people contribute reporting issues, posting feature requests, updating documentation, submitting pull requests patches, activities. committed making participation project harassment-free experience everyone, regardless level experience, gender, gender identity expression, sexual orientation, disability, personal appearance, body size, race, ethnicity, age, religion. Examples unacceptable behavior participants include use sexual language imagery, derogatory comments personal attacks, trolling, public private harassment, insults, unprofessional conduct. Project maintainers right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct. Project maintainers follow Code Conduct may removed project team. Instances abusive, harassing, otherwise unacceptable behavior may reported opening issue contacting one project maintainers. Code Conduct adapted Contributor Covenant (https://www.contributor-covenant.org), version 1.0.0, available https://contributor-covenant.org/version/1/0/0/.","code":""},{"path":"https://docs.ropensci.org/eia/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2019 eia authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/eia/articles/api.html","id":"register-a-key-with-eia","dir":"Articles","previous_headings":"API key","what":"Register a key with EIA","title":"API details","text":"Obtaining API key easy free. Pulling data US Energy Information Administration (EIA) API requires registered API key. key can obtained cost . valid email agreement API Terms Service required obtain key.","code":""},{"path":"https://docs.ropensci.org/eia/articles/api.html","id":"key-storage-and-retrieval","dir":"Articles","previous_headings":"API key","what":"Key storage and retrieval","title":"API details","text":"important store API key somewhere secure. commit repository otherwise share . example, can store .Renviron file. recommended method simplicity persistent availability. , anything else. approaches allow emphemeral storage overriding default key another key outlined . can always provide key argument every API function call, . environmental getter setter functions available. Whichever method use set key environmentally, eia API functions can get key implicitly. eia_set_key() gives option storing key three places via store argument: store = \"env\": package environment created package loaded (default method) store = \"options\": global options() store = \"sysenv\": system environment variable via Sys.setenv(). last two options require name-value pair named EIA_KEY = \"yourkey\". three options also order precedence specify store argument. setup also allows store key override another key. eia_get_key() checks three storage methods order stops soon finds key. need check specific location, can specify store. example, key already exists system environment plan pass key functions explicitly, start follows: need set , can follows. API functions eia use eia_get_key() arguments default value key argument, checking order shown existing key. way need repeatedly provide . Note despite name behavior, storing environment variable Sys.setenv() (thus eia_set_key(key, store = \"sysenv\")) persistent; key lost R session terminates, just two session-based options. want persistent key, must manually add key somewhere like .Renviron. cases, never need eia_set_key() eia_get_key() retrieve EIA_KEY environment variable. See package documentation details key options. subsequent vignettes, see key set already environment variable. also see used explicitly functions default behavior look key environment.","code":"library(eia) key <- Sys.getenv(\"EIA_KEY\") # or: key <- eia_get_key() # eia_set_key(\"yourkey\") # eia_get_key() # retrieve it"},{"path":"https://docs.ropensci.org/eia/articles/api.html","id":"api-requests","dir":"Articles","previous_headings":"","what":"API requests","title":"API details","text":"EIA API can course impose rate-limiting limitations usage given API key. use API improperly otherwise violate Terms Service, EIA may withdraw API access. However, eia package also helps prevent accidental overuse default settings limit potential making unnecessary API calls. two ways, allow optional configuration: caching API results memory using session-based memoization minimum delay API calls default eia package prevents accidentally making many requests quickly, also offers sensible flexibility.","code":""},{"path":"https://docs.ropensci.org/eia/articles/api.html","id":"memoization","dir":"Articles","previous_headings":"API requests","what":"Memoization","title":"API details","text":"functions eia make API calls use memoization default. make API call twice one R session. call made result cached. Calling function identical arguments returned cached result. approach limits potential accidentally using EIA API necessary. fine uses cases. However, use API key access data updated often, long-running R process Shiny app server may need periodically update data associated specific API call, can set cache = FALSE. Run example request made without memoization. notice cached result immediate return. Results cached memory duration R session, can clear cache time. allows update cached result. can reset cache specific endpoints using following functions. eia_clear_dir() eia_clear_metadata() eia_clear_data() eia_clear_facets()","code":"system.time(eia_dir()) # API call; cache result system.time(eia_dir()) # read from cache system.time(eia_dir(cache = FALSE)) # API call eia_clear_cache() system.time(eia_dir())"},{"path":"https://docs.ropensci.org/eia/articles/api.html","id":"anti-dos-measures","dir":"Articles","previous_headings":"API requests","what":"Anti-DOS measures","title":"API details","text":"Regardless overall rate limiting imposed EIA API, eia package sets minimum wait time one second successive API calls. cases irrelevant safeguard. eia functions make single API call requests data often take full second anyway factor subsequent data manipulation R. However, cases might want make multiple calls back back programmatically perhaps initially unsure many requests made quickly requests may execute. default minimum wait API calls precaution helps good neighbor. can turn options() needed; example, case know API calls small number reason concerned exceeding request limits associated API key. default requires make active decision use API key API limits mind.","code":""},{"path":[]},{"path":"https://docs.ropensci.org/eia/articles/eia.html","id":"register-a-key-with-eia","dir":"Articles","previous_headings":"API key","what":"Register a key with EIA","title":"Package overview","text":"Obtaining API key easy, free! Pulling data US Energy Information Administration (EIA) API requires registered API key. key can obtained cost . valid email agreement API Terms Service required obtain key. important store API key somewhere secure. commit repository otherwise share . example, one option store .Renviron file.","code":""},{"path":"https://docs.ropensci.org/eia/articles/eia.html","id":"key-storage-and-retrieval","dir":"Articles","previous_headings":"API key","what":"Key storage and retrieval","title":"Package overview","text":"key argument can provided every API function call, necessary. “get” “set” helpers available make using eia functions seamless experience. eia_set_key() provides option storing key duration R session. key already exists system environment plan pass key functions explicitly, start follows. general, however, key set globally - .Renviron - action regarding key required using package. See vignette API details information available options key storage.","code":"library(eia) # eia_set_key(\"yourkey\") # eia_get_key() # retrieve it key <- Sys.getenv(\"EIA_KEY\") # or: key <- eia_get_key()"},{"path":"https://docs.ropensci.org/eia/articles/eia.html","id":"eia-directory","dir":"Articles","previous_headings":"","what":"EIA directory","title":"Package overview","text":"fully registered EIA API key obtained properly stored active R session, whichever method preferred, ability explore API directory (folder structure) obtain data within set. Note, EIA’s APIv2 redesigned human-readable friendly; , rather rely numeric ID values, now built around self-searchable folder structure ID values now just natural language, .e. words. top-level directory information: Navigate deeper directory supplying folder id (e.g. id = “electricity”). , APIv2 directory listing, go deeper simply requires appending next id (folder name) separated \"/\", first folder ID top-level directory “electricity” next deeper folder ID “retail-sales”. result, supply “electricity/retail-sales” first argument eia_dir(), shown , see next next layer . Finally, end directory path reached, shown message provided console output ; .e. sub-folders explore. message prompting explore available data end directory path eia_metadata().","code":"eia_dir() #> # A tibble: 14 × 3 #>    id                name                            description                                                                         #>    <chr>             <chr>                           <chr>                                                                               #>  1 coal              Coal                            EIA coal energy data                                                                #>  2 crude-oil-imports Crude Oil Imports               Crude oil imports by country to destination, includes type, grade, quantity.  Sour… #>  3 electricity       Electricity                     EIA electricity survey data                                                         #>  4 international     International                   Country level production, consumption, imports, exports by energy source (petroleu… #>  5 natural-gas       Natural Gas                     EIA natural gas survey data                                                         #>  6 nuclear-outages   Nuclear Outages                 EIA nuclear outages survey data                                                     #>  7 petroleum         Petroleum                       EIA petroleum gas survey data                                                       #>  8 seds              State Energy Data System (SEDS) Estimated production, consumption, price, and expenditure data for all energy sour… #>  9 steo              Short Term Energy Outlook       Monthly short term (18 month) projections using STEO model.  Report and interactiv… #> 10 densified-biomass Densified Biomass               EIA densified biomass data                                                          #> 11 total-energy      Total Energy                    These data represent the most recent comprehensive energy statistics integrated ac… #> 12 aeo               Annual Energy Outlook           Annual U.S. projections using National Energy Modelling System (NEMS) for release … #> 13 ieo               International Energy Outlook    Annual international projections using the World Energy Projection System (WEPS) m… #> 14 co2-emissions     State CO2 Emissions             EIA CO2 Emissions data eia_dir(\"electricity\") #> # A tibble: 6 × 3 #>   id                              name                                                                       description                 #>   <chr>                           <chr>                                                                      <chr>                       #> 1 retail-sales                    Electricity Sales to Ultimate Customers                                    \"Electricity sales to ulti… #> 2 electric-power-operational-data Electric Power Operations (Annual and Monthly)                             \"Monthly and annual electr… #> 3 rto                             Electric Power Operations (Daily and Hourly)                               \"Hourly and daily electric… #> 4 state-electricity-profiles      State Specific Data                                                        \"State Specific Data\"       #> 5 operating-generator-capacity    Inventory of Operable Generators                                           \"Inventory of operable gen… #> 6 facility-fuel                   Electric Power Operations for Individual Power Plants (Annual and Monthly) \"Annual and monthly electr… eia_dir(\"electricity/retail-sales\")"},{"path":"https://docs.ropensci.org/eia/articles/eia.html","id":"note-on-output-format","dir":"Articles","previous_headings":"EIA directory","what":"Note on output format","title":"Package overview","text":"default return tidy data tibble data frame. eia_dir(), set tidy = FALSE return list returned jsonlite::fromJSON. Additionally, set tidy = NA return raw character string JSON payload.","code":"eia_dir(tidy = FALSE) #> $response #> $response$id #> [1] \"\" #>  #> $response$name #> [1] \"\" #>  #> $response$description #> [1] \"\" #>  #> $response$routes #>                   id                            name #> 1               coal                            Coal #> 2  crude-oil-imports               Crude Oil Imports #> 3        electricity                     Electricity #> 4      international                   International #> 5        natural-gas                     Natural Gas #> 6    nuclear-outages                 Nuclear Outages #> 7          petroleum                       Petroleum #> 8               seds State Energy Data System (SEDS) #> 9               steo       Short Term Energy Outlook #> 10 densified-biomass               Densified Biomass #> 11      total-energy                    Total Energy #> 12               aeo           Annual Energy Outlook #> 13               ieo    International Energy Outlook #> 14     co2-emissions             State CO2 Emissions #>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              description #> 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   EIA coal energy data #> 2                                                                                                                                                                                                                                                                                                          Crude oil imports by country to destination, \\r\\n        includes type, grade, quantity.  Source: EIA-814  Interactive data \\r\\n        product:  www.eia.gov/petroleum/imports/companylevel/ #> 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                            EIA electricity survey data #> 4                                                                                                                                                                                                                                                                                        Country level production, consumption, imports, exports by energy source (petroleum, natural gas, electricity, renewable, etc.)  \\r\\n        Interactive product:  https://www.eia.gov/international/data/world #> 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                            EIA natural gas survey data #> 6                                                                                                                                                                                                                                                                                                                                                                                                                                                                        EIA nuclear outages survey data #> 7                                                                                                                                                                                                                                                                                                                                                                                                                                                                          EIA petroleum gas survey data #> 8                                                                                                                                                                                                                                        Estimated production, consumption, price, and expenditure data for all energy sources by state and sector.  \\r\\n        Source:  https://www.eia.gov/state/seds/seds-technical-notes-complete.php  \\r\\n        Product:  SEDS (https://www.eia.gov/state/seds/) #> 9                                                                                                                                                                                                                                                                                                                                                     Monthly short term (18 month) projections using STEO model.  \\r\\n        Report and interactive projection data browser:  STEO (www.eia.gov/steo/) #> 10                                                                                                                                                                                                                                                                                                                                                                                                                                                                            EIA densified biomass data #> 11 These data represent the most recent comprehensive energy statistics integrated across all energy sources.  The data includes total energy production, consumption, stocks, and trade; energy prices; overviews of petroleum, natural gas, coal, electricity, nuclear energy, renewable energy, and carbon dioxide emissions; and data unit conversions values.  Source: https://www.eia.gov/totalenergy/data/monthly/pdf/mer_a_doc.pdf  Report:  MER (https://www.eia.gov/totalenergy/data/monthly/) #> 12                                                                                                                                                                                                                                                                                                                      Annual U.S. projections using National Energy Modelling System (NEMS) for release year.  Report, documentation, and interactive projection data browser:  AEO (www.eia.gov/aeo/) #> 13                                                                                                                                                                                                                                                                                                                     Annual international projections using the World Energy Projection System (WEPS) model for release year.  Report and interactive projection data browser:  IEO (www.eia.gov/ieo/) #> 14                                                                                                                                                                                                                                                                                                                                                                                                                                                                                EIA CO2 Emissions data #>  #>  #> $request #> $request$command #> [1] \"/v2/\" #>  #> $request$params #> $request$params$api_key #> [1] \"dUlpeaO4fNAmo9nJcgIhtCfBN5VtiZnoZDzuYGuG\" #>  #>  #>  #> $apiVersion #> [1] \"2.1.4\"  eia_dir(tidy = NA) #> [1] \"{\\\"response\\\":{\\\"id\\\":\\\"\\\",\\\"name\\\":\\\"\\\",\\\"description\\\":\\\"\\\",\\\"routes\\\":[{\\\"id\\\":\\\"coal\\\",\\\"name\\\":\\\"Coal\\\",\\\"description\\\":\\\"EIA coal energy data\\\"},{\\\"id\\\":\\\"crude-oil-imports\\\",\\\"name\\\":\\\"Crude Oil Imports\\\",\\\"description\\\":\\\"Crude oil imports by country to destination, \\\\r\\\\n        includes type, grade, quantity.  Source: EIA-814  Interactive data \\\\r\\\\n        product:  www.eia.gov\\\\/petroleum\\\\/imports\\\\/companylevel\\\\/\\\"},{\\\"id\\\":\\\"electricity\\\",\\\"name\\\":\\\"Electricity\\\",\\\"description\\\":\\\"EIA electricity survey data\\\"},{\\\"id\\\":\\\"international\\\",\\\"name\\\":\\\"International\\\",\\\"description\\\":\\\"Country level production, consumption, imports, exports by energy source (petroleum, natural gas, electricity, renewable, etc.)  \\\\r\\\\n        Interactive product:  https:\\\\/\\\\/www.eia.gov\\\\/international\\\\/data\\\\/world\\\"},{\\\"id\\\":\\\"natural-gas\\\",\\\"name\\\":\\\"Natural Gas\\\",\\\"description\\\":\\\"EIA natural gas survey data\\\"},{\\\"id\\\":\\\"nuclear-outages\\\",\\\"name\\\":\\\"Nuclear Outages\\\",\\\"description\\\":\\\"EIA nuclear outages survey data\\\"},{\\\"id\\\":\\\"petroleum\\\",\\\"name\\\":\\\"Petroleum\\\",\\\"description\\\":\\\"EIA petroleum gas survey data\\\"},{\\\"id\\\":\\\"seds\\\",\\\"name\\\":\\\"State Energy Data System (SEDS)\\\",\\\"description\\\":\\\"Estimated production, consumption, price, and expenditure data for all energy sources by state and sector.  \\\\r\\\\n        Source:  https:\\\\/\\\\/www.eia.gov\\\\/state\\\\/seds\\\\/seds-technical-notes-complete.php  \\\\r\\\\n        Product:  SEDS (https:\\\\/\\\\/www.eia.gov\\\\/state\\\\/seds\\\\/)\\\"},{\\\"id\\\":\\\"steo\\\",\\\"name\\\":\\\"Short Term Energy Outlook\\\",\\\"description\\\":\\\"Monthly short term (18 month) projections using STEO model.  \\\\r\\\\n        Report and interactive projection data browser:  STEO (www.eia.gov\\\\/steo\\\\/)\\\"},{\\\"id\\\":\\\"densified-biomass\\\",\\\"name\\\":\\\"Densified Biomass\\\",\\\"description\\\":\\\"EIA densified biomass data\\\"},{\\\"id\\\":\\\"total-energy\\\",\\\"name\\\":\\\"Total Energy\\\",\\\"description\\\":\\\"These data represent the most recent comprehensive energy statistics integrated across all energy sources.  The data includes total energy production, consumption, stocks, and trade; energy prices; overviews of petroleum, natural gas, coal, electricity, nuclear energy, renewable energy, and carbon dioxide emissions; and data unit conversions values.  Source: https:\\\\/\\\\/www.eia.gov\\\\/totalenergy\\\\/data\\\\/monthly\\\\/pdf\\\\/mer_a_doc.pdf  Report:  MER (https:\\\\/\\\\/www.eia.gov\\\\/totalenergy\\\\/data\\\\/monthly\\\\/)\\\"},{\\\"id\\\":\\\"aeo\\\",\\\"name\\\":\\\"Annual Energy Outlook\\\",\\\"description\\\":\\\"Annual U.S. projections using National Energy Modelling System (NEMS) for release year.  Report, documentation, and interactive projection data browser:  AEO (www.eia.gov\\\\/aeo\\\\/)\\\"},{\\\"id\\\":\\\"ieo\\\",\\\"name\\\":\\\"International Energy Outlook\\\",\\\"description\\\":\\\"Annual international projections using the World Energy Projection System (WEPS) model for release year.  Report and interactive projection data browser:  IEO (www.eia.gov\\\\/ieo\\\\/)\\\"},{\\\"id\\\":\\\"co2-emissions\\\",\\\"name\\\":\\\"State CO2 Emissions\\\",\\\"description\\\":\\\"EIA CO2 Emissions data\\\"}]},\\\"request\\\":{\\\"command\\\":\\\"\\\\/v2\\\\/\\\",\\\"params\\\":{\\\"api_key\\\":\\\"dUlpeaO4fNAmo9nJcgIhtCfBN5VtiZnoZDzuYGuG\\\"}},\\\"apiVersion\\\":\\\"2.1.4\\\"}\""},{"path":"https://docs.ropensci.org/eia/articles/eia.html","id":"eia-metadata","dir":"Articles","previous_headings":"","what":"EIA metadata","title":"Package overview","text":"Now back example regarding Retail Sales Electricity… eia_metadata() provides name suggests: metadata given set data provided terminal (.e. final) directory path. includes following: Name Description Data values (.e. column names) e.g. filter State = “OH” Sector = “RES” (residential) e.g. monthly, quarterly, annual, etc. e.g. default date format frequency Date range","code":"eia_metadata(\"electricity/retail-sales\") #> $Name #> [1] \"Electricity Sales to Ultimate Customers\" #>  #> $Description #> [1] \"Electricity sales to ultimate customer by state and sector (number of customers, average price, revenue, and megawatthours of sales).  \\n    Sources: Forms EIA-826, EIA-861, EIA-861M\" #>  #> $Data #> # A tibble: 4 × 3 #>   id        alias                                              units                  #>   <chr>     <chr>                                              <chr>                  #> 1 revenue   Revenue from Sales to Ultimate Customers           million dollars        #> 2 sales     Megawatthours Sold to Utlimate Customers           million kilowatthours  #> 3 price     Average Price of Electricity to Utlimate Customers cents per kilowatthour #> 4 customers Number of Ultimate Customers                       number of customers    #>  #> $Facets #> # A tibble: 2 × 2 #>   id       description           #>   <chr>    <chr>                 #> 1 stateid  State / Census Region #> 2 sectorid Sector                #>  #> $Frequency #> # A tibble: 3 × 4 #>   id        description                            query format  #>   <chr>     <chr>                                  <chr> <chr>   #> 1 monthly   One data point for each month.         M     YYYY-MM #> 2 quarterly One data point every 3 months.         Q     YYYY-QQ #> 3 annual    One data point for each calendar year. A     YYYY    #>  #> $Defaults #> # A tibble: 1 × 2 #>   format  frequency #>   <chr>   <chr>     #> 1 YYYY-MM monthly   #>  #> $Period #> # A tibble: 1 × 2 #>   start   end     #>   <chr>   <chr>   #> 1 2001-01 2023-08"},{"path":[]},{"path":"https://docs.ropensci.org/eia/articles/eia.html","id":"data-structure","dir":"Articles","previous_headings":"EIA data","what":"Data structure","title":"Package overview","text":"metadata can used better understanding data available data can pulled API using eia_data(). However, simply supplying directory path (“electricity/retail-sales”) provide data structure, .e. meaningful data values present (). Note console warning appears. API can provide maximum 5000 records. data available returned, warning message like provided informing user “incomplete return”.","code":"eia_data(\"electricity/retail-sales\") |> head() #> # A tibble: 6 × 5 #>   period  stateid stateDescription   sectorid sectorName     #>   <chr>   <chr>   <chr>              <chr>    <chr>          #> 1 2008-07 WSC     West South Central IND      industrial     #> 2 2008-07 WSC     West South Central OTH      other          #> 3 2008-07 WSC     West South Central RES      residential    #> 4 2008-07 WSC     West South Central TRA      transportation #> 5 2008-07 MTN     Mountain           ALL      all sectors    #> 6 2008-07 MTN     Mountain           COM      commercial"},{"path":"https://docs.ropensci.org/eia/articles/eia.html","id":"data-values","dir":"Articles","previous_headings":"EIA data","what":"Data values","title":"Package overview","text":"“Data Values” just names columns hold specific, respective data value. example, overall number power units sold customers main interest, associated column name information \"sales\". get data values, e.g. sales, supply proper column name id, provided Data Values section eia_metadata() console output, , case \"sales\". See now sales data values right-column-bound data structure originally provided eia_data(\"electricity/retail-sales\").","code":"eia_data(\"electricity/retail-sales\", data = \"sales\", length = 6) # length = 6 instead of `|> head()` #> # A tibble: 6 × 7 #>   period  stateid stateDescription   sectorid sectorName        sales `sales-units`         #>   <chr>   <chr>   <chr>              <chr>    <chr>             <dbl> <chr>                 #> 1 2008-07 WSC     West South Central IND      industrial     14800.   million kilowatthours #> 2 2008-07 WSC     West South Central OTH      other             NA    million kilowatthours #> 3 2008-07 WSC     West South Central RES      residential    22406.   million kilowatthours #> 4 2008-07 WSC     West South Central TRA      transportation     7.41 million kilowatthours #> 5 2008-07 MTN     Mountain           ALL      all sectors    27756.   million kilowatthours #> 6 2008-07 MTN     Mountain           COM      commercial      9123.   million kilowatthours"},{"path":[]},{"path":"https://docs.ropensci.org/eia/articles/eia.html","id":"getting-facet-values","dir":"Articles","previous_headings":"EIA facets","what":"Getting facet values","title":"Package overview","text":"data wanted just one sector, say “residential”? facets arrive, given terminal directory, facet values can found eia_facets() supplying terminal directory path facet id, latter can, , found console output eia_metadata(). output provides ids State/Region Sector required obtaining Retail Sales Residential customers Vermont. \"stateid\" Vermont “VT” \"sectorid\" residential “RES”","code":"eia_facets(\"electricity/retail-sales\", \"sectorid\") #> # A tibble: 6 × 3 #>   id    name           alias                #>   <chr> <chr>          <chr>                #> 1 RES   residential    (RES) residential    #> 2 COM   commercial     (COM) commercial     #> 3 ALL   all sectors    (ALL) all sectors    #> 4 OTH   other          (OTH) other          #> 5 TRA   transportation (TRA) transportation #> 6 IND   industrial     (IND) industrial # or eia_facets(\"electricity/retail-sales\", \"stateid\") #> # A tibble: 62 × 3 #>    id    name               alias                            #>    <chr> <chr>              <chr>                            #>  1 MA    Massachusetts      (MA) Massachusetts               #>  2 VT    Vermont            (VT) Vermont                     #>  3 WA    Washington         (WA) Washington                  #>  4 HI    Hawaii             (HI) Hawaii                      #>  5 WNC   West North Central Region: (WNC) West North Central #>  6 NC    North Carolina     (NC) North Carolina              #>  7 ENC   East North Central Region: (ENC) East North Central #>  8 MTN   Mountain           Region: (MTN) Mountain           #>  9 MD    Maryland           (MD) Maryland                    #> 10 VA    Virginia           (VA) Virginia                    #> # … with 52 more rows"},{"path":"https://docs.ropensci.org/eia/articles/eia.html","id":"using-facet-values","dir":"Articles","previous_headings":"EIA facets","what":"Using facet values","title":"Package overview","text":"Now, ID values output can used limit returned data facets argument eia_data(). multiple data values (sales price) facets (residential commercial) interest, simply concatenate entries c(), shown :","code":"eia_data(   dir = \"electricity/retail-sales\",   data = \"sales\",   facets = list(sectorid = \"RES\", stateid = \"VT\"),   length = 6 ) #> # A tibble: 6 × 7 #>   period  stateid stateDescription sectorid sectorName  sales `sales-units`         #>   <chr>   <chr>   <chr>            <chr>    <chr>       <dbl> <chr>                 #> 1 2008-07 VT      Vermont          RES      residential  188. million kilowatthours #> 2 2010-07 VT      Vermont          RES      residential  198. million kilowatthours #> 3 2023-08 VT      Vermont          RES      residential  180. million kilowatthours #> 4 2016-02 VT      Vermont          RES      residential  185. million kilowatthours #> 5 2015-05 VT      Vermont          RES      residential  143. million kilowatthours #> 6 2010-06 VT      Vermont          RES      residential  158. million kilowatthours eia_data(   dir = \"electricity/retail-sales\",   data = c(\"sales\", \"price\"),   facets = list(sectorid = c(\"RES\", \"COM\"), stateid = \"VT\"),   length = 6 ) #> # A tibble: 6 × 9 #>   period  stateid stateDescription sectorid sectorName  sales price `sales-units`         `price-units`          #>   <chr>   <chr>   <chr>            <chr>    <chr>       <dbl> <dbl> <chr>                 <chr>                  #> 1 2008-07 VT      Vermont          COM      commercial   187.  12.5 million kilowatthours cents per kilowatthour #> 2 2008-07 VT      Vermont          RES      residential  188.  14.5 million kilowatthours cents per kilowatthour #> 3 2010-07 VT      Vermont          COM      commercial   189.  13.3 million kilowatthours cents per kilowatthour #> 4 2010-07 VT      Vermont          RES      residential  198.  15.4 million kilowatthours cents per kilowatthour #> 5 2023-08 VT      Vermont          COM      commercial   174.  17.3 million kilowatthours cents per kilowatthour #> 6 2023-08 VT      Vermont          RES      residential  180.  20.4 million kilowatthours cents per kilowatthour"},{"path":"https://docs.ropensci.org/eia/articles/eia.html","id":"frequency--time-subsetting-and-sorting","dir":"Articles","previous_headings":"","what":"Frequency-, time-subsetting, and sorting","title":"Package overview","text":"electric retail sales data available multiple frequencies defined date range, shown : default frequency data monthly, maybe annualized data truncated time frame - say last five years - needed. ability alter granularity truncate time frame returned data provided freq, start, end arguments eia_data(). shown , returned data frame 20 records - 10 annual observations sector (residential commercial). However, notice hectic ordering returned data. Thankfully, API service can sort either ascending descending order using sort argument. Similar facets, sort requires named list object two components: \"cols\" - list column names sort. \"order\" - single character value, either “asc” “desc” ascending descending, respectively.","code":"#> Frequency: #>          id                            description query  format #> 1   monthly         One data point for each month.     M YYYY-MM #> 2 quarterly         One data point every 3 months.     Q YYYY-QQ #> 3    annual One data point for each calendar year.     A    YYYY #>  #> Date Range: #>    2001-01 to 2023-08 eia_data(   dir = \"electricity/retail-sales\",   data = c(\"sales\", \"price\"),   facets = list(sectorid = c(\"RES\", \"COM\"), stateid = \"VT\"),   freq = \"annual\",   start = \"2013\",   end = \"2023\" ) #> # A tibble: 20 × 9 #>    period stateid stateDescription sectorid sectorName  sales price `sales-units`         `price-units`          #>     <int> <chr>   <chr>            <chr>    <chr>       <dbl> <dbl> <chr>                 <chr>                  #>  1   2018 VT      Vermont          COM      commercial  2004.  15.2 million kilowatthours cents per kilowatthour #>  2   2018 VT      Vermont          RES      residential 2116.  18.0 million kilowatthours cents per kilowatthour #>  3   2015 VT      Vermont          COM      commercial  2011.  14.5 million kilowatthours cents per kilowatthour #>  4   2015 VT      Vermont          RES      residential 2089.  17.1 million kilowatthours cents per kilowatthour #>  5   2014 VT      Vermont          COM      commercial  2031.  14.6 million kilowatthours cents per kilowatthour #>  6   2017 VT      Vermont          RES      residential 2023.  17.7 million kilowatthours cents per kilowatthour #>  7   2017 VT      Vermont          COM      commercial  1977.  14.6 million kilowatthours cents per kilowatthour #>  8   2021 VT      Vermont          COM      commercial  1867.  16.6 million kilowatthours cents per kilowatthour #>  9   2021 VT      Vermont          RES      residential 2174.  19.3 million kilowatthours cents per kilowatthour #> 10   2022 VT      Vermont          COM      commercial  1916.  17.3 million kilowatthours cents per kilowatthour #> 11   2022 VT      Vermont          RES      residential 2187.  19.9 million kilowatthours cents per kilowatthour #> 12   2014 VT      Vermont          RES      residential 2121.  17.5 million kilowatthours cents per kilowatthour #> 13   2020 VT      Vermont          COM      commercial  1806.  16.4 million kilowatthours cents per kilowatthour #> 14   2020 VT      Vermont          RES      residential 2157.  19.5 million kilowatthours cents per kilowatthour #> 15   2013 VT      Vermont          RES      residential 2125.  17.1 million kilowatthours cents per kilowatthour #> 16   2013 VT      Vermont          COM      commercial  2017.  14.7 million kilowatthours cents per kilowatthour #> 17   2019 VT      Vermont          COM      commercial  1934.  16.0 million kilowatthours cents per kilowatthour #> 18   2019 VT      Vermont          RES      residential 2082.  17.7 million kilowatthours cents per kilowatthour #> 19   2016 VT      Vermont          COM      commercial  2014.  14.5 million kilowatthours cents per kilowatthour #> 20   2016 VT      Vermont          RES      residential 2056.  17.4 million kilowatthours cents per kilowatthour eia_data(   dir = \"electricity/retail-sales\",   data = c(\"sales\", \"price\"),   facets = list(sectorid = c(\"RES\", \"COM\"), stateid = \"VT\"),   freq = \"annual\",   start = \"2013\",   end = \"2023\",   sort = list(cols = c(\"period\", \"sectorid\"), order = \"asc\") ) #> # A tibble: 20 × 9 #>    period stateid stateDescription sectorid sectorName  sales price `sales-units`         `price-units`          #>     <int> <chr>   <chr>            <chr>    <chr>       <dbl> <dbl> <chr>                 <chr>                  #>  1   2013 VT      Vermont          COM      commercial  2017.  14.7 million kilowatthours cents per kilowatthour #>  2   2013 VT      Vermont          RES      residential 2125.  17.1 million kilowatthours cents per kilowatthour #>  3   2014 VT      Vermont          COM      commercial  2031.  14.6 million kilowatthours cents per kilowatthour #>  4   2014 VT      Vermont          RES      residential 2121.  17.5 million kilowatthours cents per kilowatthour #>  5   2015 VT      Vermont          COM      commercial  2011.  14.5 million kilowatthours cents per kilowatthour #>  6   2015 VT      Vermont          RES      residential 2089.  17.1 million kilowatthours cents per kilowatthour #>  7   2016 VT      Vermont          COM      commercial  2014.  14.5 million kilowatthours cents per kilowatthour #>  8   2016 VT      Vermont          RES      residential 2056.  17.4 million kilowatthours cents per kilowatthour #>  9   2017 VT      Vermont          COM      commercial  1977.  14.6 million kilowatthours cents per kilowatthour #> 10   2017 VT      Vermont          RES      residential 2023.  17.7 million kilowatthours cents per kilowatthour #> 11   2018 VT      Vermont          COM      commercial  2004.  15.2 million kilowatthours cents per kilowatthour #> 12   2018 VT      Vermont          RES      residential 2116.  18.0 million kilowatthours cents per kilowatthour #> 13   2019 VT      Vermont          COM      commercial  1934.  16.0 million kilowatthours cents per kilowatthour #> 14   2019 VT      Vermont          RES      residential 2082.  17.7 million kilowatthours cents per kilowatthour #> 15   2020 VT      Vermont          COM      commercial  1806.  16.4 million kilowatthours cents per kilowatthour #> 16   2020 VT      Vermont          RES      residential 2157.  19.5 million kilowatthours cents per kilowatthour #> 17   2021 VT      Vermont          COM      commercial  1867.  16.6 million kilowatthours cents per kilowatthour #> 18   2021 VT      Vermont          RES      residential 2174.  19.3 million kilowatthours cents per kilowatthour #> 19   2022 VT      Vermont          COM      commercial  1916.  17.3 million kilowatthours cents per kilowatthour #> 20   2022 VT      Vermont          RES      residential 2187.  19.9 million kilowatthours cents per kilowatthour"},{"path":"https://docs.ropensci.org/eia/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Matthew Leonawicz. Author. Matthew Hoff. Author, maintainer.","code":""},{"path":"https://docs.ropensci.org/eia/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Leonawicz M, Hoff M (2024). eia: API Wrapper 'US Energy Information Administration' Open Data. R package version 0.4.1https://docs.ropensci.org/eia/ (website) https://github.com/ropensci/eia, https://docs.ropensci.org/eia/ (website) https://github.com/ropensci/eia.","code":"@Manual{,   title = {eia: API Wrapper for 'US Energy Information Administration' Open Data},   author = {Matthew Leonawicz and Matthew Hoff},   year = {2024},   note = {R package version 0.4.1https://docs.ropensci.org/eia/ (website) https://github.com/ropensci/eia},   url = {https://docs.ropensci.org/eia/ (website) https://github.com/ropensci/eia}, }"},{"path":"https://docs.ropensci.org/eia/index.html","id":"eia-","dir":"","previous_headings":"","what":"API Wrapper for US Energy Information Administration Open Data","title":"API Wrapper for US Energy Information Administration Open Data","text":"eia package provides API access data US Energy Information Administration (EIA). Pulling data US Energy Information Administration (EIA) API requires registered API key. key can obtained cost . valid email agreement API Terms Service required obtain key. eia includes functions searching EIA API data directory importing various datasets. Datasets returned functions provided tidy format alternatively raw form. also offers helper functions working EIA API date strings time formats inspecting different summaries data metadata. package also provides control API key storage caching API request results.","code":""},{"path":"https://docs.ropensci.org/eia/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"API Wrapper for US Energy Information Administration Open Data","text":"Install CRAN release eia install development version GitHub ","code":"install.packages(\"eia\") # install.packages(\"remotes\") remotes::install_github(\"ropensci/eia\")"},{"path":"https://docs.ropensci.org/eia/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"API Wrapper for US Energy Information Administration Open Data","text":"obtaining API key, store somewhere .Renviron never anything key using package. Alternatively, set manually eia_set_key() current R session. , can always passed explicitly key argument given eia function.","code":""},{"path":"https://docs.ropensci.org/eia/index.html","id":"load-package-and-set-key","dir":"","previous_headings":"Example","what":"Load package and set key","title":"API Wrapper for US Energy Information Administration Open Data","text":"","code":"library(eia)  # not run eia_set_key(\"yourkey\") # set API key if not already set globally"},{"path":"https://docs.ropensci.org/eia/index.html","id":"explore-the-api-directory","dir":"","previous_headings":"Example","what":"Explore the API directory","title":"API Wrapper for US Energy Information Administration Open Data","text":"Get list EIA’s data directory (sub-directories) eia_dir().","code":"# Top-level directory eia_dir() #> # A tibble: 14 × 3 #>    id                name                            description                 #>    <chr>             <chr>                           <chr>                       #>  1 coal              Coal                            EIA coal energy data        #>  2 crude-oil-imports Crude Oil Imports               Crude oil imports by count… #>  3 electricity       Electricity                     EIA electricity survey data #>  4 international     International                   Country level production, … #>  5 natural-gas       Natural Gas                     EIA natural gas survey data #>  6 nuclear-outages   Nuclear Outages                 EIA nuclear outages survey… #>  7 petroleum         Petroleum                       EIA petroleum gas survey d… #>  8 seds              State Energy Data System (SEDS) Estimated production, cons… #>  9 steo              Short Term Energy Outlook       Monthly short term (18 mon… #> 10 densified-biomass Densified Biomass               EIA densified biomass data  #> 11 total-energy      Total Energy                    These data represent the m… #> 12 aeo               Annual Energy Outlook           Annual U.S. projections us… #> 13 ieo               International Energy Outlook    Annual international proje… #> 14 co2-emissions     State CO2 Emissions             EIA CO2 Emissions data  # Electricity sub-directory eia_dir(\"electricity\") #> # A tibble: 6 × 3 #>   id                              name                               description #>   <chr>                           <chr>                              <chr>       #> 1 retail-sales                    Electricity Sales to Ultimate Cus… \"Electrici… #> 2 electric-power-operational-data Electric Power Operations (Annual… \"Monthly a… #> 3 rto                             Electric Power Operations (Daily … \"Hourly an… #> 4 state-electricity-profiles      State Specific Data                \"State Spe… #> 5 operating-generator-capacity    Inventory of Operable Generators   \"Inventory… #> 6 facility-fuel                   Electric Power Operations for Ind… \"Annual an…"},{"path":"https://docs.ropensci.org/eia/index.html","id":"get-data","dir":"","previous_headings":"Example","what":"Get data","title":"API Wrapper for US Energy Information Administration Open Data","text":"Get annual retail electric sales Ohio residential sector since 2010 make nice plot.","code":"(d <- eia_data(   dir = \"electricity/retail-sales\",   data = \"sales\",   facets = list(stateid = \"OH\", sectorid = \"RES\"),   freq = \"annual\",   start = \"2010\",   sort = list(cols = \"period\", order = \"asc\"), )) #> # A tibble: 13 × 7 #>    period stateid stateDescription sectorid sectorName   sales `sales-units`     #>     <int> <chr>   <chr>            <chr>    <chr>        <dbl> <chr>             #>  1   2010 OH      Ohio             RES      residential 54474. million kilowatt… #>  2   2011 OH      Ohio             RES      residential 53687. million kilowatt… #>  3   2012 OH      Ohio             RES      residential 52288. million kilowatt… #>  4   2013 OH      Ohio             RES      residential 52158. million kilowatt… #>  5   2014 OH      Ohio             RES      residential 52804. million kilowatt… #>  6   2015 OH      Ohio             RES      residential 51493. million kilowatt… #>  7   2016 OH      Ohio             RES      residential 52524. million kilowatt… #>  8   2017 OH      Ohio             RES      residential 49796. million kilowatt… #>  9   2018 OH      Ohio             RES      residential 54452. million kilowatt… #> 10   2019 OH      Ohio             RES      residential 52226. million kilowatt… #> 11   2020 OH      Ohio             RES      residential 52553. million kilowatt… #> 12   2021 OH      Ohio             RES      residential 53171. million kilowatt… #> 13   2022 OH      Ohio             RES      residential 53312. million kilowatt… library(ggplot2) ggplot(d, aes(x = period, y = sales / 1e3)) +   geom_bar(col = \"steelblue\", fill = \"steelblue\", stat = \"identity\") +   theme_bw() +   labs(     title = \"Annual Retail Sales of Electricity (GWh)\",     subtitle = \"State: Ohio; Sector: Residential\",     x = \"Year\", y = \"Sales (GWh)\"   )"},{"path":"https://docs.ropensci.org/eia/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"API Wrapper for US Energy Information Administration Open Data","text":"See collection vignette tutorials examples well complete package documentation available eia package website. Please note eia project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia.html","id":null,"dir":"Reference","previous_headings":"","what":"eia: EIA API wrapper — eia","title":"eia: EIA API wrapper — eia","text":"package provides API access data US Energy Information Administration (EIA).","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear API results cache — eia_clear_cache","title":"Clear API results cache — eia_clear_cache","text":"Reset results API calls currently cached memory.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear API results cache — eia_clear_cache","text":"","code":"eia_clear_cache()  eia_clear_dir()  eia_clear_metadata()  eia_clear_data()  eia_clear_facets()"},{"path":"https://docs.ropensci.org/eia/reference/eia_clear_cache.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Clear API results cache — eia_clear_cache","text":"eia_clear_cache() clears entire cache. functions clear cache associated specific endpoints.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear API results cache — eia_clear_cache","text":"","code":"if (FALSE) { key <- Sys.getenv(\"EIA_KEY\") # your stored API key system.time(eia_dir(key)) system.time(eia_dir(key)) eia_clear_cache() system.time(eia_dir(key)) }"},{"path":"https://docs.ropensci.org/eia/reference/eia_data.html","id":null,"dir":"Reference","previous_headings":"","what":"EIA data — eia_data","title":"EIA data — eia_data","text":"Obtain data EIA.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"EIA data — eia_data","text":"","code":"eia_data(   dir,   data = NULL,   facets = NULL,   freq = NULL,   start = NULL,   end = NULL,   sort = NULL,   length = NULL,   offset = NULL,   tidy = TRUE,   check_metadata = FALSE,   cache = TRUE,   key = eia_get_key() )"},{"path":"https://docs.ropensci.org/eia/reference/eia_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"EIA data — eia_data","text":"dir character, directory path. data character NULL, see details. facets character list NULL, see details. freq character NULL, see details. start, end character NULL, see details. sort named list two. cols: list column names sort. order: \"asc\" \"desc\" ascending descending, respectively. length numeric NULL, number rows return. offset numeric NULL, number rows skip return. tidy logical NULL, return tidier result. See details. check_metadata logical, TRUE checks input values metadata endpoint. cache logical, cache result duration R session using memoization. See details. key API key: character set explicitly; needed key set globally. See eia_set_key().","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"EIA data — eia_data","text":"data frame","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"EIA data — eia_data","text":"default, data, facets, freq set NULL. obtain valid input values arguments, use specific ID labels provided eia_metadata(). use start end require input freq. default (check_metadata = FALSE), resulting data match temporal resolution provided freq, however, check_metadata = TRUE applies restrictions format values provided start/end must match freq. Furthermore, regardless input format provided start/end, resulting data always match specification freq. lastly, regardless chosen format, end must strictly greater start return data. default, additional processing done return list containing tibble data frames. Set tidy = FALSE return initial list result jsonlite::fromJSON. Set tidy = NA return original JSON character string. Set cache = FALSE force new API call updated data. Using FALSE always makes new API call returns result server. TRUE uses memoization per R session basis, caching result function call memory duration R session. can reset entire cache calling eia_clear_cache().","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"EIA data — eia_data","text":"","code":"if (FALSE) { eia_data(   dir = \"electricity/retail-sales\",   data = \"price\",   facets = list(sectorid = c(\"COM\", \"RES\"), stateid = \"OH\") ) }"},{"path":"https://docs.ropensci.org/eia/reference/eia_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"EIA directory — eia_dir","title":"EIA directory — eia_dir","text":"Obtain EIA directory listing.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"EIA directory — eia_dir","text":"","code":"eia_dir(dir = NULL, tidy = TRUE, cache = TRUE, key = eia_get_key())"},{"path":"https://docs.ropensci.org/eia/reference/eia_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"EIA directory — eia_dir","text":"dir character, directory path, NULL API root directory. tidy logical, return tidier result. See details. cache logical, cache result duration R session using memoization. See details. key API key: character set explicitly; needed key set globally. See eia_set_key().","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"EIA directory — eia_dir","text":"data frame, list, character; see details.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_dir.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"EIA directory — eia_dir","text":"default, additional processing done return list containing tibble data frames. Set tidy = FALSE return initial list result jsonlite::fromJSON(). Set tidy = NA return original JSON character string. Set cache = FALSE force new API call updated data. Using FALSE always makes new API call returns result server. TRUE uses memoization per R session basis, caching result function call memory duration R session. can reset entire cache calling eia_clear_cache().","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_dir.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"EIA directory — eia_dir","text":"","code":"if (FALSE) { # use eia_set_key() to store API key eia_dir() eia_dir(\"electricity\") eia_dir(\"electricity/rto\") }"},{"path":"https://docs.ropensci.org/eia/reference/eia_facets.html","id":null,"dir":"Reference","previous_headings":"","what":"EIA facets — eia_facets","title":"EIA facets — eia_facets","text":"Obtain facets given set EIA data.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_facets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"EIA facets — eia_facets","text":"","code":"eia_facets(dir, facet, tidy = TRUE, cache = TRUE, key = eia_get_key())"},{"path":"https://docs.ropensci.org/eia/reference/eia_facets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"EIA facets — eia_facets","text":"dir character, directory path. facet character tidy logical, return tidier result. See details. cache logical, cache result duration R session using memoization. See details. key API key: character set explicitly; needed key set globally. See eia_set_key().","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_facets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"EIA facets — eia_facets","text":"data frame, list, character; see details.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_facets.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"EIA facets — eia_facets","text":"default, additional processing done return list containing tibble data frames. Set tidy = FALSE return initial list result jsonlite::fromJSON(). Set tidy = NA return original JSON character string. Set cache = FALSE force new API call updated data. Using FALSE always makes new API call returns result server. TRUE uses memoization per R session basis, caching result function call memory duration R session. can reset entire cache calling eia_clear_cache().","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_facets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"EIA facets — eia_facets","text":"","code":"if (FALSE) { eia_facets(\"electricity/retail-sales\", facet = \"sectorid\") }"},{"path":"https://docs.ropensci.org/eia/reference/eia_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Set and get API key — eia_key","title":"Set and get API key — eia_key","text":"Set get API key","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set and get API key — eia_key","text":"","code":"eia_set_key(key, store = c(\"env\", \"options\", \"sysenv\"))  eia_get_key(store = c(\"env\", \"options\", \"sysenv\"))"},{"path":"https://docs.ropensci.org/eia/reference/eia_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set and get API key — eia_key","text":"key character, API key. store character, method storing API key. See details.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set and get API key — eia_key","text":"eia_get_key() returns key string NULL warning. eia_set_key() returns success message error.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_key.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set and get API key — eia_key","text":"Setter getter helpers allow store EIA API key one three ways. use optional. can always pass API key string key argument package function requires , . default key argument functions key = eia_get_key(). key stored manner can retrieved, can call package API functions without provide key argument repeatedly.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_key.html","id":"key-storage-methods","dir":"Reference","previous_headings":"","what":"Key storage methods","title":"Set and get API key — eia_key","text":"already set key globally somewhere using eia_set_key(), eia_get_key() retrieve . can add EIA_KEY = \"yourkey\" key-value pair options() system environment variable eia_get_key() pick long use name EIA_KEY. convenience can R session eia_set_key(). gives three options store key. default use eia package environment created package loaded.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_key.html","id":"precedence","dir":"Reference","previous_headings":"","what":"Precedence","title":"Set and get API key — eia_key","text":"Choose one method setting key. getting key, three locations checked order: package environment, options(), system environment. override order, specify method explicitly check occur . also makes possible override system level key working one stored package environment options().","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_key.html","id":"persistence","dir":"Reference","previous_headings":"","what":"Persistence","title":"Set and get API key — eia_key","text":"Note none three storage methods, including \"sysenv\" persistent; stored key lost R session terminated. key stored outside R system environment variable retrievable eia_get_key(), just like set R session eia_set_key() store = \"sysenv\". However, truly want key persist environment variable R terminates, must manually add somewhere like .Renviron; Sys.setenv R achieve .","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set and get API key — eia_key","text":"","code":"eia_set_key(\"fake\") #> Key stored successfully in package environment. eia_get_key() #> [1] \"fake\" # eia_get_key(\"options\") # `NULL` with warning if not set where specified"},{"path":"https://docs.ropensci.org/eia/reference/eia_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"EIA metadata — eia_metadata","title":"EIA metadata — eia_metadata","text":"Obtain EIA data metadata","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"EIA metadata — eia_metadata","text":"","code":"eia_metadata(dir, tidy = TRUE, cache = TRUE, key = eia_get_key())"},{"path":"https://docs.ropensci.org/eia/reference/eia_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"EIA metadata — eia_metadata","text":"dir character, directory path. tidy logical, return tidier result. See details. cache logical, cache result duration R session using memoization. See details. key API key: character set explicitly; needed key set globally. See eia_set_key().","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"EIA metadata — eia_metadata","text":"named list character; see details.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_metadata.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"EIA metadata — eia_metadata","text":"default, additional processing done return list containing tibble data frames. Set tidy = FALSE return initial list result jsonlite::fromJSON(). Set tidy = NA return original JSON character string. Set cache = FALSE force new API call updated data. Using FALSE always makes new API call returns result server. TRUE uses memoization per R session basis, caching result function call memory duration R session. can reset entire cache calling eia_clear_cache().","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"EIA metadata — eia_metadata","text":"","code":"if (FALSE) { eia_dir(\"electricity/retail-sales\") eia_metadata(\"electricity/retail-sales\") }"},{"path":"https://docs.ropensci.org/eia/reference/eia_report.html","id":null,"dir":"Reference","previous_headings":"","what":"Download data for various EIA reports — eia_report","title":"Download data for various EIA reports — eia_report","text":"functions download data various EIA reports found EIA website necessarily available EIA API.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download data for various EIA reports — eia_report","text":"","code":"eia_report(id, ...)  report_drilling_productivity()"},{"path":"https://docs.ropensci.org/eia/reference/eia_report.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download data for various EIA reports — eia_report","text":"id character, report ID. See examples available reports. ... arguments passed individual report data functions.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_report.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download data for various EIA reports — eia_report","text":"list, typically list data frames","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_report.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download data for various EIA reports — eia_report","text":"wrapper function individual report functions make API calls require API key.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eia_report.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download data for various EIA reports — eia_report","text":"","code":"if (FALSE) { x <- eia_report(\"drilling productivity\") }"},{"path":"https://docs.ropensci.org/eia/reference/eiadate.html","id":null,"dir":"Reference","previous_headings":"","what":"EIA date parsing — eiadate","title":"EIA date parsing — eiadate","text":"Helper functions manipulating converting regular year-month-day date strings EIA date string notation.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eiadate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"EIA date parsing — eiadate","text":"","code":"eiadate_to_date(x)  date_to_eiadate(x, date_format = c(\"A\", \"Q\", \"M\", \"W\", \"D\", \"H\"))  eiadate_to_date_seq(start, end, weekly = FALSE)"},{"path":"https://docs.ropensci.org/eia/reference/eiadate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"EIA date parsing — eiadate","text":"x character, EIA date string; character date object regular dates. See details. date_format EIA date format: \"\", \"Q\", \"M\", \"W\", \"D\", \"H\". stand annual, quarterly, monthly, weekly, daily, hourly. See details. start start EIA date date. end end EIA date date. weekly logical. See details.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eiadate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"EIA date parsing — eiadate","text":"reason mix EIA date formats context. Functions take EIA date strings expect consistent format. Also, EIA date formats parsed automatically dates . However, daily weekly use format. avoid ambiguity eia_date_seq(), daily assumed; set weekly = TRUE treat weekly. providing real date date string, date_to_eiadate(), dates YYYY-MM-DD format, least format can parsed lubridate::ymd lubridate::ymd_hms dates hourly date times, respectively. \"LH\" supported date format. Use \"H\". API translate date time using \"LH\" anyhow; simply appends date string number hours time difference.","code":""},{"path":"https://docs.ropensci.org/eia/reference/eiadate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"EIA date parsing — eiadate","text":"","code":"eiadate_to_date(c(\"2018-03\", \"2018-04\")) #> [1] \"2018-03-01\" \"2018-04-01\"  date_to_eiadate(\"2018-05-14\", \"A\") #> [1] \"2018\" date_to_eiadate(\"2018-05-14\", \"Q\") #> [1] \"2018-Q2\" date_to_eiadate(\"2018-05-14\", \"M\") #> [1] \"2018-05\"  (x <- eiadate_to_date_seq(\"2018-Q1\", \"2018-Q4\")) #> [1] \"2018-01-01\" \"2018-04-01\" \"2018-07-01\" \"2018-10-01\" date_to_eiadate(x, \"Q\") #> [1] \"2018-Q1\" \"2018-Q2\" \"2018-Q3\" \"2018-Q4\" date_to_eiadate(x, \"M\") #> [1] \"2018-01\" \"2018-04\" \"2018-07\" \"2018-10\"  (x <- eiadate_to_date(\"2019-01-02T16Z\")) #> [1] \"2019-01-02 16:00:00 UTC\" date_to_eiadate(x, \"H\") #> [1] \"2019-01-02T16Z\" (x <- eiadate_to_date_seq(\"2019-01-02T16Z\", \"2019-01-02T19Z\")) #> [1] \"2019-01-02 16:00:00 UTC\" \"2019-01-02 17:00:00 UTC\" #> [3] \"2019-01-02 18:00:00 UTC\" \"2019-01-02 19:00:00 UTC\" date_to_eiadate(x, \"H\") #> [1] \"2019-01-02T16Z\" \"2019-01-02T17Z\" \"2019-01-02T18Z\" \"2019-01-02T19Z\""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-041","dir":"Changelog","previous_headings":"","what":"eia 0.4.1","title":"eia 0.4.1","text":"CRAN release: 2023-11-17 Added dynamic error handling via metadata layer conditioned new function argument check_metadata. Forced start end input values character. Forced length offset input values numeric. Augmented sort functionality now handle multiple, varying “asc”/“desc” inputs order list, rather just one value “asc” “desc” applied specified columns. Improved error messaging check_metadata = TRUE closely resemble provided API (.e. check_metadata = FALSE).","code":""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-040","dir":"Changelog","previous_headings":"","what":"eia 0.4.0","title":"eia 0.4.0","text":"CRAN release: 2023-10-31 Updated functions functionality based new v2 API, effective March 2023; due nature API changes, eia undergone extensive refactor many previous functions longer applicable exist. Replaced eia_categories() etc. eia_dir(). Removed eia_series_*, eia_geosets(), eia_updates() functions. Added eia_metadata() eia_data(). Updated docs vignettes. Updated tests.","code":""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-037","dir":"Changelog","previous_headings":"","what":"eia 0.3.7","title":"eia 0.3.7","text":"CRAN release: 2021-02-20 Updated URL eia_updates. Minor fixes. Updated vignettes.","code":""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-036","dir":"Changelog","previous_headings":"","what":"eia 0.3.6","title":"eia 0.3.6","text":"CRAN release: 2020-05-08 Minor fix canned report. Switch http https. Documentation updates.","code":""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-035","dir":"Changelog","previous_headings":"","what":"eia 0.3.5","title":"eia 0.3.5","text":"Minor documentation updates.","code":""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-034","dir":"Changelog","previous_headings":"","what":"eia 0.3.4","title":"eia 0.3.4","text":"CRAN release: 2019-11-27 Added initial report function. Minor code improvements. Minor documentation updates.","code":""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-033","dir":"Changelog","previous_headings":"","what":"eia 0.3.3","title":"eia 0.3.3","text":"CRAN release: 2019-09-16 Added wrapper series category endpoint. Updated documentation, vignette unit tests.","code":""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-032","dir":"Changelog","previous_headings":"","what":"eia 0.3.2","title":"eia 0.3.2","text":"CRAN release: 2019-07-25 Updated formatting CRAN.","code":""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-031","dir":"Changelog","previous_headings":"","what":"eia 0.3.1","title":"eia 0.3.1","text":"Updated package metadata improved Travis testing suite configuration.","code":""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-030","dir":"Changelog","previous_headings":"","what":"eia 0.3.0","title":"eia 0.3.0","text":"Added convenient key store methods getter setter helpers, optionally making easy avoid provide key every function call. Moved key argument first last among relevant function arguments updated examples accordingly. Added support hourly time series requests date format handling.","code":""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-020","dir":"Changelog","previous_headings":"","what":"eia 0.2.0","title":"eia 0.2.0","text":"Added optional memoization API functions, adding new cache argument. Added anti-DOS measures, can adjusted using options(). Added vignettes documentation. Added helper functions clearing cached results. Added helper functions working EIA date strings. Added helper functions time series metadata. output formats consistency functions. Added unit tests. Minor updates functions, documentation.","code":""},{"path":"https://docs.ropensci.org/eia/news/index.html","id":"eia-010","dir":"Changelog","previous_headings":"","what":"eia 0.1.0","title":"eia 0.1.0","text":"Added package scaffolding. Added initial package functions working data categories, time series, geosets. Added function documentation, unit tests, vignettes.","code":""}]
